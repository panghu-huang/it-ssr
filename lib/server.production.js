module.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=13)}([function(t,e){t.exports=require("tslib")},function(t,e){t.exports=require("react")},function(t,e){t.exports=require("react-router-config")},function(t,e){t.exports=require("path")},function(t,e){t.exports=require("fs")},function(t,e,r){const n=r(3),o=process.cwd(),i=t=>n.join(o,t);t.exports={appEntry:i("src/index.tsx"),distDirectory:i("dist"),appSource:i("src"),publicDirectory:i("public"),htmlTemplate:i("src/index.ejs"),tsConfig:i("tsconfig.json"),tsLint:i("tslint.json"),customizeConfigPath:i("ssr.config.js"),appDirectory:o}},function(t,e){t.exports=require("koa")},function(t,e){t.exports=require("koa-router")},function(t,e){t.exports=require("koa-static")},function(t,e){t.exports=require("react-dom/server")},function(t,e){t.exports=require("react-router-dom")},function(t,e){t.exports=require("ejs")},function(t,e){t.exports=require("querystring")},function(t,e,r){"use strict";r.r(e);var n=r(0),o=r(1),i=r(6),u=r(7),c=r(8),s=r(9),a=r(10),f=r(2),p=Object(o.createContext)(null),l={};function d(t,e){if(l.hasOwnProperty(t)){var r=typeof l[t];l[t]=r===typeof e&&"object"===r?n.__assign({},l[t],e):e}else l[t]=e}var h=l,m=function(t){function e(e){var r=t.call(this,e)||this,n=e.store||{};return r.state={store:n},d("store",{setState:r.setState}),r}return n.__extends(e,t),e.prototype.render=function(){var t=this.props.children,e=this.state.store;return o.createElement(p.Provider,{value:e},t)},e}(o.Component);var _=function(t,e){return n.__awaiter(this,void 0,Promise,function(){var r,o;return n.__generator(this,function(n){switch(n.label){case 0:if(!(r=Object(f.matchRoutes)(e,t).map(function(t){return t.route}).filter(function(t){var e=t.component;return e&&e.hasOwnProperty("getInitialProps")})).length)return[3,4];o=r.map(function(e){return e.component.getInitialProps(t)}),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Promise.all(o)];case 2:return[2,n.sent().reduce(function(t,e,n){return t[r[n].name]=e,t},{})];case 3:return n.sent(),[2,{}];case 4:return[2,{}]}})})},g=r(4),y=r(3),v=(r(11),r(5));var b,x=function(t,e){console.log("get html","production");var r=encodeURIComponent(JSON.stringify(e)),n=y.join(v.publicDirectory,"client.html");return g.readFileSync(n,"utf8").replace("AppSlot",t).replace("ScriptSlot",'\n        <script type="text/javascript">\n          window.__APP_DATA__ = "'+r+'";\n        <\/script>\n      ')},P=r(12);!function(t){t.GET="GET",t.POST="POST",t.PUT="PUT",t.PATCH="PATCH",t.DELETE="DELETE"}(b||(b={}));var S=function(){function t(e,r){this.apiUrl=(r||t.baseUrl)+"/"+e}return t.config=function(e){Object.keys(e).forEach(function(r){t[r]=e[r]})},t.prototype.get=function(t){return this.fetch(n.__assign({},t,{method:b.GET}))},t.prototype.post=function(t){return this.fetch(n.__assign({},t,{method:b.POST}))},t.prototype.put=function(t){return this.fetch(n.__assign({},t,{method:b.PUT}))},t.prototype.patch=function(t){return this.fetch(n.__assign({},t,{method:b.PATCH}))},t.prototype.delete=function(t){return this.fetch(n.__assign({},t,{method:b.DELETE}))},t.prototype.fetch=function(e){var r=this,o=e.path,i=e.data,u=e.method,c=n.__rest(e,["path","data","method"]),s=o?this.apiUrl+"/"+o:this.apiUrl,a=t.getFetchOptions,f=t.formatError,p=n.__assign({},a?a():{},c,{method:u});return u===b.GET?s+="?"+Object(P.stringify)(i):p.data=JSON.stringify(i),new Promise(function(t,e){fetch(s,p).then(function(o){return n.__awaiter(r,void 0,void 0,function(){var r,i,u,c;return n.__generator(this,function(n){switch(n.label){case 0:return[4,o.text()];case 1:if(r=n.sent(),o.ok)try{i=JSON.parse(r),t(i)}catch(e){t(r)}else u=o.status,c=f?f(u,r):{status:u,message:r},e(c);return[2]}})})}).catch(function(){var t=f?f(null):{status:null,message:"请检查您的网络连接"};e(t)})})},t}();r.d(e,"render",function(){return O}),r.d(e,"StoreProvider",function(){return m}),r.d(e,"StoreContext",function(){return p}),r.d(e,"ApiService",function(){return S}),r.d(e,"actions",function(){return h}),r.d(e,"addAction",function(){return d});var j=r(5);function O(t,e){var r=this,p=new i,l=new u;p.use(c(j.publicDirectory,{gzip:!0})),l.get("*",function(i){return n.__awaiter(r,void 0,void 0,function(){var r,u,c,p,l;return n.__generator(this,function(n){switch(n.label){case 0:return r=i.url,[4,_(r,t)];case 1:return u=n.sent(),c=e.AppContainer||o.Fragment,p=s.renderToString(o.createElement(a.StaticRouter,{location:r,context:{}},o.createElement(m,{store:u},o.createElement(c,null,Object(f.renderRoutes)(t))))),l=x(p,{store:u}),i.body=l,[2]}})})}),p.use(l.routes()),p.listen(3030,function(){console.log("服务端渲染已运行在：http://localhost:3030")})}}]);